<!DOCTYPE html>
<html ng-app="game">
<head>
	<title>Game</title>

	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="../css/game.css">
	
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular-route.js"></script>
	<script type="text/javascript" src="../js/game.js"></script>
	<script type="text/javascript" src="../js/controller.js"></script>
	<script type="text/javascript" src="../js/factory.js"></script>
	
</head>
<body  ng-controller = "scary">
	<div  class = "container-fluid">
	<!-- sounds -->
			<audio id="introMusic" src="sounds/38969__argitoth__archi-soundscape-space3.wav"></audio>
			<audio id="glass" src="sounds/84704__cmusounddesign__glass-break-1.wav"></audio>
			<audio id="scare" src="sounds/162472__kastenfrosch__scary.mp3"></audio>
			<audio id="door" src="sounds/168650__0xmusex0__doorcreak.wav"></audio>
			<audio id="clock" src="sounds/181812__keweldog__clock-tick2.wav"></audio>
			<audio id="run" src="sounds/257757__limetoe__horror-suspence-violins.wav"></audio>
			<audio id="piano" src="sounds/170593__timpan__scary-piano.wav"></audio>
			<audio id="death" src="sounds/178058__hugoluman__horrifyingscreams.wav"></audio>
		<div class = "row">
				<!-- <img class = "img-responsive house" ng-src = "{{screen[activeRooms].img}}"> -->
				<div style='height: 900px;'ng-view> </div>
				
			<div class="dropdown invin">
				<button id="inventory" type="button" ng-hide = "activeRooms==='mainScreen' || activeRooms === 'deathface'"  aria-haspopup="true" aria-expanded="false" data-toggle="dropdown">Inventory
					<span class="caret"></span>
				</button>
				<ul class="dropdown-menu" aria-labelledby="inventory">
					<li ng-repeat="thing in person">
						<a href="#" ng-click="interact(thing)" data-toggle="modal" data-target=".bs-example-modal-sm">{{thing.name}}</a>
						
					</li>
				</ul>
			</div>

			<div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
					<div class="modal-header">
						<h3 class="modal-title">{{selectedThing.name}}</h3>
					</div>
     					 <span ng-show="!flip">{{selectedThing.description}}</span>
     					 <span ng-show="flip">{{selectedThing.back}}</span>
					<div ng-show="backcheck()" class="modal-footer">
        				<button type="button" ng-show="!flip" ng-click="turn(true)" class="btn btn-primary">Back Side</button>
        				<button type="button" ng-show="flip" ng-click="turn(true)" class="btn btn-primary">Front Side</button>
      				</div>
					</div>
				</div>
			</div> 


			
			<!-- ITEMS -->
				<div class="modal fade bs-item-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
  					<div class="modal-dialog modal-sm">
   						<div class="modal-content">
     						<p>-picked up {{person[person.length-1].name}}.-</p>
    					</div>
  					</div>
				</div>
			<!-- key -->
				<div ng-show = "supplycheck(person,'Small Key') && activeRooms === 'kitchen'" class="col-xs-1 col-xs-offset-6 key" ng-click="collect(items.key)" data-toggle="modal" data-target=".bs-item-modal-sm"></div>
			<!-- flashlight -->
				<div ng-show = "supplycheck(person,'Flashlight') && activeRooms === 'frontroom'" class="col-xs-1 col-xs-offset-5 flashlight" ng-click="collect(items.flashlight)" data-toggle="modal" data-target=".bs-item-modal-sm"></div>
			<!-- firstnote -->
				<div ng-show = "supplycheck(person,'Note 1') && activeRooms === 'dining'" class="col-xs-1 col-xs-offset-1 firstnote" ng-click="collect(items.firstnote)" data-toggle="modal" data-target=".bs-item-modal-sm"></div>
			<!-- secondnote -->
				<div ng-show = "supplycheck(person,'Note 2') && activeRooms === 'junkroom'" class="col-xs-1 col-xs-offset-4 secondnote" ng-click="collect(items.secondnote); gametime()" data-toggle="modal" data-target=".bs-item-modal-sm"></div>
			<!-- thirdnote -->
				<div ng-show = "supplycheck(person,'Note 3') && activeRooms === 'vault' && !supplycheck(person,'Heavy Key')" class="col-xs-1 col-xs-offset-6 thirdnote" ng-click="collect(items.thirdnote); endtimes()" data-toggle="modal" data-target=".bs-item-modal-sm"></div>
			<!-- necklace -->
				<div ng-show = "supplycheck(person,'Necklace') && activeRooms === 'bedroom' && !supplycheck(person,'Small Key')" class="col-xs-1 col-xs-offset-6 necklace" ng-click="collect(items.necklace)" data-toggle="modal" data-target=".bs-item-modal-sm"></div>
			<!-- vaultkey -->
				<div ng-show = "supplycheck(person,'Heavy Key') && activeRooms === 'library'" class="col-xs-1 col-xs-offset-6 vaultkey" ng-click="collect(items.vaultKey)" data-toggle="modal" data-target=".bs-item-modal-sm"></div>
			<!-- death -->
				<div ng-show = "supplycheck(person,'death') && activeRooms === 'furnace'" class="col-xs-1 col-xs-offset-6 death" ng-click="deaththing()"></div>
				</div>
			
	</div>
	
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.0/jquery.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.js"></script>
</body>
</html>